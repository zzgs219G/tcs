name: 自动生成贪吃蛇
on:
  schedule:
    - cron: "0 0 * * *"  # 每天自动运行
  workflow_dispatch:      # 允许手动触发
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: Platane/snk@v3
        with:
          github_user_name: ${{ github.repository_owner }}  # 自动用你的用户名
          outputs: |
            assets/snake-white.svg?palette=github-light  # 白色版
            assets/snake-dark.svg?palette=github-dark    # 黑色版（可选）
- name: Generate snake animation
  uses: Platane/snk@v3
  with:
    github_user_name: zzgs219G
    outputs: |
      assets/snake-white.svg?palette=github-light
      assets/snake-dark.svg?palette=github-dark

- name: Commit files
  run: |
    git config --global user.name "GitHub Actions"
    git config --global user.email "actions@github.com"
    git add assets/*
    git commit -m "Add generated snake SVG" || echo "No changes to commit"
    git push
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
